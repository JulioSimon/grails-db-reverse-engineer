<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>5 Tutorial 3.0.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction to the DB Reverse Engineering Plugin</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>Getting Started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configuration.html"><strong>3</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/generalUsage.html"><strong>4</strong><span>General Usage</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/tutorial.html"><strong>5</strong><span>Tutorial</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Reverse-engineers a database to Grails domain classes.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/generalUsage.html">&lt;&lt; <strong>4</strong><span>General Usage</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>5 Tutorial - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Burt Beckwith</p>

                    <p><strong>Version:</strong> 3.0.0</p>

                    
                </div>

                

                

<h1 id="tutorial">5 Tutorial</h1>
In this tutorial we'll create a MySQL database and generate domain classes from it.<p class="paragraph"/><h4>1. Create your Grails application.</h4><p class="paragraph"/><pre class="bq"><code>
$ grails create-app reveng-test
$ cd reveng-test</code></pre><p class="paragraph"/><h4>2. Install the plugin by adding a dependency in BuildConfig.groovy:</h4><p class="paragraph"/><div class="code"><pre>plugins &#123;
   &#8230;
   compile ':db&#45;reverse&#45;engineer:3.0.0'
   &#8230;
&#125;</pre></div><p class="paragraph"/><h4>3. Configure the development environment for MySQL.</h4><p class="paragraph"/>Set these property values in the <code>development</code> section of <code>grails-app/conf/DataSource.groovy</code><p class="paragraph"/><div class="code"><pre>dataSource &#123;
   &#8230;
   dialect = org.hibernate.dialect.MySQL5InnoDBDialect
   driverClassName = 'com.mysql.jdbc.Driver'
   password = 'reveng'
   url = 'jdbc:mysql://localhost/reveng'
   username = 'reveng'
   &#8230;
&#125;</pre></div><p class="paragraph"/>Also add a dependency for the MySQL JDBC driver in <code>grails-app/conf/BuildConfig.groovy</code>:<p class="paragraph"/><div class="code"><pre>dependencies &#123;
   runtime 'mysql:mysql&#45;connector&#45;java:5.1.38'
&#125;</pre></div><p class="paragraph"/>4. 4. Create the database.<p class="paragraph"/>As the root user or another user that has rights to create a database and configure grants, run<p class="paragraph"/><pre class="bq"><code>
create database reveng;
grant all on reveng.* to reveng&#64;localhost identified by 'reveng';</code></pre><p class="paragraph"/><h4>5. Create the database tables.</h4><p class="paragraph"/>Run these create and alter statements in the <code>reveng</code> database:<p class="paragraph"/><div class="code"><pre>use reveng;<p class="paragraph"/>CREATE TABLE author (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  name varchar(255) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE book (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  title varchar(255) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE author_books (
  author_id bigint(20) NOT NULL,
  book_id bigint(20) NOT NULL,
  PRIMARY KEY (author_id,book_id),
  KEY FK24C812F6183CFE1B (book_id),
  KEY FK24C812F6DAE0A69B (author_id),
  CONSTRAINT FK24C812F6183CFE1B FOREIGN KEY (book_id) REFERENCES book (id),
  CONSTRAINT FK24C812F6DAE0A69B FOREIGN KEY (author_id) REFERENCES author (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE compos (
  first_name varchar(255) NOT NULL,
  last_name varchar(255) NOT NULL,
  version bigint(20) NOT NULL,
  other varchar(255) NOT NULL,
  PRIMARY KEY (first_name,last_name)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE compound_unique (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  prop1 varchar(255) NOT NULL,
  prop2 varchar(255) NOT NULL,
  prop3 varchar(255) NOT NULL,
  prop4 varchar(255) NOT NULL,
  prop5 varchar(255) NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY prop4 (prop4,prop3,prop2)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE library (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  name varchar(255) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE visit (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  library_id bigint(20) NOT NULL,
  person varchar(255) NOT NULL,
  visit_date datetime NOT NULL,
  PRIMARY KEY (id),
  KEY FK6B04D4BE8E8E739 (library_id),
  CONSTRAINT FK6B04D4BE8E8E739 FOREIGN KEY (library_id) REFERENCES library (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE other (
  username varchar(255) NOT NULL,
  nonstandard_version_name bigint(20) NOT NULL,
  PRIMARY KEY (username)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE user (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  account_expired bit(1) NOT NULL,
  account_locked bit(1) NOT NULL,
  enabled bit(1) NOT NULL,
  password varchar(255) NOT NULL,
  password_expired bit(1) NOT NULL,
  username varchar(255) NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY username (username)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE role (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  authority varchar(255) NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY authority (authority)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE user_role (
  role_id bigint(20) NOT NULL,
  user_id bigint(20) NOT NULL,
  date_updated datetime NOT NULL,
  PRIMARY KEY (role_id,user_id),
  KEY FK143BF46A667AF6FB (role_id),
  KEY FK143BF46ABA5BADB (user_id),
  CONSTRAINT FK143BF46A667AF6FB FOREIGN KEY (role_id) REFERENCES role (id),
  CONSTRAINT FK143BF46ABA5BADB FOREIGN KEY (user_id) REFERENCES user (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE thing (
  thing_id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  email varchar(255) NOT NULL,
  float_value <span class="java&#45;object">float</span> NOT NULL,
  name varchar(123) DEFAULT NULL,
  PRIMARY KEY (thing_id),
  UNIQUE KEY email (email)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/><h4>6. Configure the reverse engineering process.</h4><p class="paragraph"/>Add these configuration options to <code>grails-app/conf/Config.groovy</code>:<p class="paragraph"/><div class="code"><pre>grails.plugin.reveng.packageName = 'com.revengtest'
grails.plugin.reveng.versionColumns = &#91;other: 'nonstandard_version_name'&#93;
grails.plugin.reveng.manyToManyTables = &#91;'user_role'&#93;
grails.plugin.reveng.manyToManyBelongsTos = &#91;'user_role': 'role', 'author_books': 'book'&#93;</pre></div><p class="paragraph"/><h4>7. Run the db-reverse-engineer script.</h4><p class="paragraph"/><pre class="bq"><code>
$ grails db-reverse-engineer</code></pre><p class="paragraph"/><h4>8. Look at the generated domain classes.</h4><p class="paragraph"/><h4>Author and Book domain classes.</h4><p class="paragraph"/>The <code>author</code> and <code>book</code> tables have a many-to-many relationship, which uses the <code>author_books</code> join table:<p class="paragraph"/><div class="code"><pre>CREATE TABLE author (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  name varchar(255) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE book (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  title varchar(255) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE author_books (
  author_id bigint(20) NOT NULL,
  book_id bigint(20) NOT NULL,
  PRIMARY KEY (author_id,book_id),
  KEY FK24C812F6183CFE1B (book_id),
  KEY FK24C812F6DAE0A69B (author_id),
  CONSTRAINT FK24C812F6183CFE1B FOREIGN KEY (book_id) REFERENCES book (id),
  CONSTRAINT FK24C812F6DAE0A69B FOREIGN KEY (author_id) REFERENCES author (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/>After running the script you'll have classes similar to these:<p class="paragraph"/><div class="code"><pre>class Author &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> name<p class="paragraph"/>   <span class="java&#45;keyword">static</span> hasMany = &#91;books: Book&#93;
&#125;</pre></div><p class="paragraph"/>and<p class="paragraph"/><div class="code"><pre>class Book &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> title<p class="paragraph"/>   <span class="java&#45;keyword">static</span> hasMany = &#91;authors: Author&#93;
   <span class="java&#45;keyword">static</span> belongsTo = &#91;Author&#93;
&#125;</pre></div><p class="paragraph"/><code>Book</code> has the line <code>static belongsTo = Author</code> because we specified this in <code>Config.groovy</code> with the <code>grails.plugin.reveng.manyToManyBelongsTos</code> property.<p class="paragraph"/><h4>Compos domain class.</h4><p class="paragraph"/>The <code>compos</code> table has a composite primary key (made up of the <code>first_name</code> and <code>last_name</code> columns):<p class="paragraph"/><div class="code"><pre>CREATE TABLE compos (
  first_name varchar(255) NOT NULL,
  last_name varchar(255) NOT NULL,
  version bigint(20) NOT NULL,
  other varchar(255) NOT NULL,
  PRIMARY KEY (first_name,last_name)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/>and it generates this domain class:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> org.apache.commons.lang.builder.EqualsBuilder
<span class="java&#45;keyword">import</span> org.apache.commons.lang.builder.HashCodeBuilder<p class="paragraph"/>class Compos <span class="java&#45;keyword">implements</span> Serializable &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> firstName
   <span class="java&#45;object">String</span> lastName
   <span class="java&#45;object">String</span> other<p class="paragraph"/>   <span class="java&#45;object">int</span> hashCode() &#123;
      def builder = <span class="java&#45;keyword">new</span> HashCodeBuilder()
      builder.append firstName
      builder.append lastName
      builder.toHashCode()
   &#125;<p class="paragraph"/>   <span class="java&#45;object">boolean</span> equals(other) &#123;
      <span class="java&#45;keyword">if</span> (other == <span class="java&#45;keyword">null</span>) <span class="java&#45;keyword">return</span> <span class="java&#45;keyword">false</span>
      def builder = <span class="java&#45;keyword">new</span> EqualsBuilder()
      builder.append firstName, other.firstName
      builder.append lastName, other.lastName
      builder.isEquals()
   &#125;<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      id composite: &#91;<span class="java&#45;quote">"firstName"</span>, <span class="java&#45;quote">"lastName"</span>&#93;
   &#125;
&#125;</pre></div><p class="paragraph"/>Since it has a composite primary key, the class is its own primary key so it has to implement <code>Serializable</code> and implement <code>hashCode</code> and <code>equals</code>.<p class="paragraph"/><h4>CompoundUnique domain class.</h4><p class="paragraph"/>The <code>compound_unique</code> table has five properties, three of which are in a compound unique index:<p class="paragraph"/><div class="code"><pre>CREATE TABLE compound_unique (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  prop1 varchar(255) NOT NULL,
  prop2 varchar(255) NOT NULL,
  prop3 varchar(255) NOT NULL,
  prop4 varchar(255) NOT NULL,
  prop5 varchar(255) NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY prop4 (prop4,prop3,prop2)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/>and it generates this domain class:<p class="paragraph"/><div class="code"><pre>class CompoundUnique &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> prop1
   <span class="java&#45;object">String</span> prop2
   <span class="java&#45;object">String</span> prop3
   <span class="java&#45;object">String</span> prop4
   <span class="java&#45;object">String</span> prop5<p class="paragraph"/>   <span class="java&#45;keyword">static</span> constraints = &#123;
      prop2 unique: &#91;<span class="java&#45;quote">"prop3"</span>, <span class="java&#45;quote">"prop4"</span>&#93;
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>Library and Visit domain classes.</h4><p class="paragraph"/>The <code>library</code> and <code>visit</code> tables have a one-to-many relationship:<p class="paragraph"/><div class="code"><pre>CREATE TABLE library (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  name varchar(255) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE visit (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  library_id bigint(20) NOT NULL,
  person varchar(255) NOT NULL,
  visit_date datetime NOT NULL,
  PRIMARY KEY (id),
  KEY FK6B04D4BE8E8E739 (library_id),
  CONSTRAINT FK6B04D4BE8E8E739 FOREIGN KEY (library_id) REFERENCES library (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/>and they generate these domain classes:<p class="paragraph"/><div class="code"><pre>class Library &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> name<p class="paragraph"/>   <span class="java&#45;keyword">static</span> hasMany = &#91;visits: Visit&#93;
&#125;</pre></div><p class="paragraph"/><div class="code"><pre>class Visit &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> person
   Date visitDate
   Library library<p class="paragraph"/>   <span class="java&#45;keyword">static</span> belongsTo = &#91;Library&#93;<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      version <span class="java&#45;keyword">false</span>
   &#125;
&#125;</pre></div><p class="paragraph"/><code>visit</code> has no <code>version</code> column, so the <code>Visit</code> has optimistic lock checking disabled (<code>version false</code>).<p class="paragraph"/><h4>Other domain class.</h4><p class="paragraph"/>The <code>other</code> table has a string primary key, and an optimistic locking column that's not named <code>version</code>. Since we configured this with the <code>grails.plugin.reveng.versionColumns</code> property, the column is resolved correctly:<p class="paragraph"/><div class="code"><pre>CREATE TABLE other (
  username varchar(255) NOT NULL,
  nonstandard_version_name bigint(20) NOT NULL,
  PRIMARY KEY (username)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/><div class="code"><pre>class Other &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> username<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      id name: <span class="java&#45;quote">"username"</span>, generator: <span class="java&#45;quote">"assigned"</span>
      version <span class="java&#45;quote">"nonstandard_version_name"</span>
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>User and Role domain classes.</h4><p class="paragraph"/>The <code>user</code> and <code>role</code> tables have a many-to-many relationship, which uses the <code>user_role</code> join table:<p class="paragraph"/><div class="code"><pre>CREATE TABLE user (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  account_expired bit(1) NOT NULL,
  account_locked bit(1) NOT NULL,
  enabled bit(1) NOT NULL,
  password varchar(255) NOT NULL,
  password_expired bit(1) NOT NULL,
  username varchar(255) NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY username (username)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE role (
  id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  authority varchar(255) NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY authority (authority)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;<p class="paragraph"/>CREATE TABLE user_role (
  role_id bigint(20) NOT NULL,
  user_id bigint(20) NOT NULL,
  date_updated datetime NOT NULL,
  PRIMARY KEY (role_id,user_id),
  KEY FK143BF46A667AF6FB (role_id),
  KEY FK143BF46ABA5BADB (user_id),
  CONSTRAINT FK143BF46A667AF6FB FOREIGN KEY (role_id) REFERENCES role (id),
  CONSTRAINT FK143BF46ABA5BADB FOREIGN KEY (user_id) REFERENCES user (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/>The <code>user_role</code> table has an extra column (<code>date_updated</code>) and would be ignored by default, but since we configured it with the <code>grails.plugin.reveng.manyToManyTables</code> property it's resolved correctly:<p class="paragraph"/><div class="code"><pre>class Role &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> authority<p class="paragraph"/>   <span class="java&#45;keyword">static</span> hasMany = &#91;users: User&#93;
   <span class="java&#45;keyword">static</span> belongsTo = &#91;User&#93;<p class="paragraph"/>   <span class="java&#45;keyword">static</span> constraints = &#123;
      authority unique: <span class="java&#45;keyword">true</span>
   &#125;
&#125;</pre></div><p class="paragraph"/><div class="code"><pre>class User &#123;<p class="paragraph"/>   <span class="java&#45;object">Boolean</span> accountExpired
   <span class="java&#45;object">Boolean</span> accountLocked
   <span class="java&#45;object">Boolean</span> enabled
   <span class="java&#45;object">String</span> password
   <span class="java&#45;object">Boolean</span> passwordExpired
   <span class="java&#45;object">String</span> username<p class="paragraph"/>   <span class="java&#45;keyword">static</span> hasMany = &#91;roles: Role&#93;<p class="paragraph"/>   <span class="java&#45;keyword">static</span> constraints = &#123;
      username unique: <span class="java&#45;keyword">true</span>
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>Thing domain class.</h4><p class="paragraph"/>The <code>thing</code> table has a non-standard primary key column (<code>thing_id</code>) and a unique constraint on the <code>email</code> column. The <code>name</code> column is nullable, and is defined as <code>varchar(123)</code>:<p class="paragraph"/><div class="code"><pre>CREATE TABLE thing (
  thing_id bigint(20) NOT NULL AUTO_INCREMENT,
  version bigint(20) NOT NULL,
  email varchar(255) NOT NULL,
  float_value <span class="java&#45;object">float</span> NOT NULL,
  name varchar(123) DEFAULT NULL,
  PRIMARY KEY (thing_id),
  UNIQUE KEY email (email)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre></div><p class="paragraph"/>and it generates this domain class:<p class="paragraph"/><div class="code"><pre>class Thing &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> email
   <span class="java&#45;object">Float</span> floatValue
   <span class="java&#45;object">String</span> name<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      id column: <span class="java&#45;quote">"thing_id"</span>
   &#125;<p class="paragraph"/>   <span class="java&#45;keyword">static</span> constraints = &#123;
      email unique: <span class="java&#45;keyword">true</span>
      name nullable: <span class="java&#45;keyword">true</span>, maxSize: 123
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>9. Update a table and re-run the script.</h4><p class="paragraph"/>Add a new column to the <code>thing</code> table:<p class="paragraph"/><pre class="bq"><code>
alter table thing add new_column boolean;</code></pre><p class="paragraph"/>We'll re-run the script but need to configure it to generate the updated domain class in a different directory from the default so we can compare with the original. To configure this, set the value of the <code>grails.plugin.reveng.destDir</code> property in <code>grails-app/conf/Config.groovy</code>:<p class="paragraph"/><div class="code"><pre>grails.plugin.reveng.destDir = 'temp_reverse_engineer'</pre></div><p class="paragraph"/>Also change the configuration to only include the <code>thing</code> table:<p class="paragraph"/><div class="code"><pre>grails.plugin.reveng.includeTables = &#91;'thing'&#93;</pre></div><p class="paragraph"/>Re-eun the db-reverse-engineer script:<p class="paragraph"/><pre class="bq"><code>
$ grails db-reverse-engineer</code></pre><p class="paragraph"/>The script will generate this domain class in the temp_reverse_engineer/com/revengtest folder:<p class="paragraph"/><div class="code"><pre>class Thing &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> email
   <span class="java&#45;object">Float</span> floatValue
   <span class="java&#45;object">String</span> name
   <span class="java&#45;object">Boolean</span> newColumn<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      id column: <span class="java&#45;quote">"thing_id"</span>
   &#125;<p class="paragraph"/>   <span class="java&#45;keyword">static</span> constraints = &#123;
      email unique: <span class="java&#45;keyword">true</span>
      name nullable: <span class="java&#45;keyword">true</span>, maxSize: 123
      newColumn nullable: <span class="java&#45;keyword">true</span>
   &#125;
&#125;</pre></div><p class="paragraph"/>The domain class has a new <code>Boolean newColumn</code> field and a <code>nullable</code> constraint. Since this generated the correct changes it's safe to move replace the previous domain class with this one.



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/generalUsage.html">&lt;&lt; <strong>4</strong><span>General Usage</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Scripts</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Scripts/db-reverse-engineer.html">db-reverse-engineer</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
